# -*- coding: utf-8 -*-

from __future__ import unicode_literals, absolute_import

import io
import cairosvg
import imgkit
import logging

from flask import Blueprint, request, send_file


bp = Blueprint('home', __name__)


@bp.route('/convert', methods=['POST'])
def index():
    data = request.data
    ret = cairosvg.svg2png(bytestring=data)
    return send_file(io.BytesIO(ret), mimetype='image/png')


@bp.route('/html/convert', methods=['POST'])
def html_convert():
    data = request.data
    ret = imgkit.from_string(data.decode('utf-8'), False, options={'format': 'png', 'encoding': "UTF-8", })
    return send_file(io.BytesIO(ret), mimetype='image/png')


@bp.route('/html/convert', methods=['GET'])
def test_html_convert():
    html = """<html class=" ">
 <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <style>
  /*! normalize.css v7.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{-webkit-box-sizing:content-box;box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}[hidden],template{display:none}#nprogress{pointer-events:none}#nprogress .bar{background:#29d;position:fixed;z-index:1031;top:0;left:0;width:100%;height:2px}#nprogress .peg{display:block;position:absolute;right:0;width:100px;height:100%;-webkit-box-shadow:0 0 10px #29d,0 0 5px #29d;box-shadow:0 0 10px #29d,0 0 5px #29d;opacity:1;-webkit-transform:rotate(3deg) translateY(-4px);transform:rotate(3deg) translateY(-4px)}#nprogress .spinner{display:block;position:fixed;z-index:1031;top:15px;right:15px}#nprogress .spinner-icon{width:18px;height:18px;-webkit-box-sizing:border-box;box-sizing:border-box;border:2px solid transparent;border-top-color:#29d;border-left-color:#29d;border-radius:50%;-webkit-animation:nprogress-spinner .4s linear infinite;animation:nprogress-spinner .4s linear infinite}.nprogress-custom-parent{overflow:hidden;position:relative}.nprogress-custom-parent #nprogress .bar,.nprogress-custom-parent #nprogress .spinner{position:absolute}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}
  .fade-enter-active,.fade-leave-active{-webkit-transition:opacity .28s;transition:opacity .28s}.fade-enter,.fade-leave-active{opacity:0}.fade-transform-enter-active,.fade-transform-leave-active{-webkit-transition:all .5s;transition:all .5s}.fade-transform-enter{opacity:0;-webkit-transform:translateX(-30px);transform:translateX(-30px)}.fade-transform-leave-to{opacity:0;-webkit-transform:translateX(30px);transform:translateX(30px)}.breadcrumb-enter-active,.breadcrumb-leave-active{-webkit-transition:all .5s;transition:all .5s}.breadcrumb-enter,.breadcrumb-leave-active{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.breadcrumb-move{-webkit-transition:all .5s;transition:all .5s}.breadcrumb-leave-active{position:absolute}.el-breadcrumb__inner,.el-breadcrumb__inner a{font-weight:400!important}.el-upload input[type=file]{display:none!important}.el-upload__input{display:none}.el-dialog{-webkit-transform:none;transform:none;left:0;position:relative;margin:0 auto}.upload-container .el-upload{width:100%}.upload-container .el-upload .el-upload-dragger{width:100%;height:200px}.el-dropdown-menu a{display:block}#app .main-container{min-height:100%;-webkit-transition:margin-left .28s;transition:margin-left .28s;margin-left:210px;position:relative}#app .sidebar-container{-webkit-transition:width .28s;transition:width .28s;width:210px!important;background-color:#304156;height:100%;position:fixed;font-size:0;top:0;bottom:0;left:0;z-index:1001;overflow:hidden}#app .sidebar-container .horizontal-collapse-transition{-webkit-transition:width 0s ease-in-out,padding-left 0s ease-in-out,padding-right 0s ease-in-out;transition:width 0s ease-in-out,padding-left 0s ease-in-out,padding-right 0s ease-in-out}#app .sidebar-container .scrollbar-wrapper{overflow-x:hidden!important}#app .sidebar-container .el-scrollbar__bar.is-vertical{right:0}#app .sidebar-container .el-scrollbar{height:100%}#app .sidebar-container.has-logo .el-scrollbar{height:calc(100% - 50px)}#app .sidebar-container .is-horizontal{display:none}#app .sidebar-container a{display:inline-block;width:100%;overflow:hidden}#app .sidebar-container .svg-icon{margin-right:16px}#app .sidebar-container .el-menu{border:none;height:100%;width:100%!important}#app .sidebar-container .el-submenu__title:hover,#app .sidebar-container .submenu-title-noDropdown:hover{background-color:#263445!important}#app .sidebar-container .is-active>.el-submenu__title{color:#f4f4f5!important}#app .sidebar-container .el-submenu .el-menu-item,#app .sidebar-container .nest-menu .el-submenu>.el-submenu__title{min-width:210px!important;background-color:#1f2d3d!important}#app .sidebar-container .el-submenu .el-menu-item:hover,#app .sidebar-container .nest-menu .el-submenu>.el-submenu__title:hover{background-color:#001528!important}#app .hideSidebar .sidebar-container{width:54px!important}#app .hideSidebar .main-container{margin-left:54px}#app .hideSidebar .submenu-title-noDropdown{padding:0!important;position:relative}#app .hideSidebar .submenu-title-noDropdown .el-tooltip{padding:0!important}#app .hideSidebar .submenu-title-noDropdown .el-tooltip .svg-icon{margin-left:20px}#app .hideSidebar .el-submenu{overflow:hidden}#app .hideSidebar .el-submenu>.el-submenu__title{padding:0!important}#app .hideSidebar .el-submenu>.el-submenu__title .svg-icon{margin-left:20px}#app .hideSidebar .el-submenu>.el-submenu__title .el-submenu__icon-arrow{display:none}#app .hideSidebar .el-menu--collapse .el-submenu>.el-submenu__title>span{height:0;width:0;overflow:hidden;visibility:hidden;display:inline-block}#app .el-menu--collapse .el-menu .el-submenu{min-width:210px!important}#app .mobile .main-container{margin-left:0}#app .mobile .sidebar-container{-webkit-transition:-webkit-transform .28s;transition:-webkit-transform .28s;transition:transform .28s;transition:transform .28s,-webkit-transform .28s;width:210px!important}#app .mobile.hideSidebar .sidebar-container{pointer-events:none;-webkit-transition-duration:.3s;transition-duration:.3s;-webkit-transform:translate3d(-210px,0,0);transform:translate3d(-210px,0,0)}#app .withoutAnimation .main-container,#app .withoutAnimation .sidebar-container{-webkit-transition:none;transition:none}.el-menu--vertical>.el-menu .svg-icon{margin-right:16px}.el-menu--vertical .el-menu-item:hover,.el-menu--vertical .nest-menu .el-submenu>.el-submenu__title:hover{background-color:#263445!important}.el-menu--vertical>.el-menu--popup{max-height:100vh;overflow-y:auto}.el-menu--vertical>.el-menu--popup::-webkit-scrollbar-track-piece{background:#d3dce6}.el-menu--vertical>.el-menu--popup::-webkit-scrollbar{width:6px}.el-menu--vertical>.el-menu--popup::-webkit-scrollbar-thumb{background:#99a9bf;border-radius:20px}.filter_wrap,.msg_wrap{width:100%;padding:10px;background:#fdfdfd;border:1px solid #f1f1f1;border-radius:2px;margin-bottom:20px}.msg_wrap{height:240px}.search_btn{margin-top:4px}.el-table{margin-top:20px}.avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#409eff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center}.avatar{width:178px;height:178px;display:block}.pre_view p{padding:15px;margin:0}.pre_view_wrap{width:375px;height:540px;margin:0 auto}.pre_view_wrap .pre_view{width:375px;height:540px;border:1px solid #ccc}.pre_view_body h4,.pre_view_page h4,.pre_view_wrap h4{text-align:center;font-weight:400;margin-bottom:10px}.red{color:red}.el-pagination{margin-top:20px}.el-dialog__header{border-bottom:1px solid #e2e2e2}.dialog-footer{text-align:right}.pic_tip{color:#b5b5b5}label.name{font-size:15px;padding-left:20px;margin-bottom:15px;display:inline-block}.mul_box{display:-webkit-box;display:-ms-flexbox;display:flex}.mul_box .el-form-item{margin-right:20px}.footer_btn{padding-left:100px}.finish_status{color:#a7a7a7}.upload_tip{font-size:13px;color:#b5b5b5}body{height:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;font-family:Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif}label{font-weight:700}html{-webkit-box-sizing:border-box;box-sizing:border-box}#app,html{height:100%}*,:after,:before{-webkit-box-sizing:inherit;box-sizing:inherit}a:active,a:focus{outline:none}a,a:focus,a:hover{cursor:pointer;color:inherit;text-decoration:none}div:focus{outline:none}.clearfix:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.app-container{padding:20px}ul li{list-style:none}.m-bottom20{margin-bottom:20px}.app-breadcrumb.el-breadcrumb[data-v-652661ab]{display:inline-block;font-size:14px;line-height:50px;margin-left:10px}.app-breadcrumb.el-breadcrumb .no-redirect[data-v-652661ab]{color:#97a8be;cursor:text}.hamburger[data-v-49e15297]{display:inline-block;vertical-align:middle;width:20px;height:20px}.hamburger.is-active[data-v-49e15297]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.navbar[data-v-19491ab8]{height:50px;line-height:50px;border-radius:0!important}.navbar .hamburger-container[data-v-19491ab8]{line-height:58px;height:50px;float:left;padding:0 10px}.navbar .screenfull[data-v-19491ab8]{position:absolute;right:90px;top:16px;color:red}.navbar .avatar-container[data-v-19491ab8]{height:50px;display:inline-block;position:absolute;right:35px}.navbar .avatar-container .avatar-wrapper[data-v-19491ab8]{cursor:pointer;margin-top:5px;position:relative}.navbar .avatar-container .avatar-wrapper .user-avatar[data-v-19491ab8]{width:40px;height:40px;border-radius:10px}.navbar .avatar-container .avatar-wrapper .el-icon-caret-bottom[data-v-19491ab8]{position:absolute;right:-20px;top:25px;font-size:12px}.el-scrollbar ul.el-menu li.el-menu-item{padding-left:40px!important}.container{display:-webkit-box;display:-ms-flexbox;display:flex;display:-webkit-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;background-color:#304156}.title{color:#bfcbd9;font-size:18px;text-align:center;height:50px;line-height:50px}.app-main{padding:20px}.app-wrapper[data-v-01077c3c]{position:relative;height:100%;width:100%}.app-wrapper[data-v-01077c3c]:after{content:"";display:table;clear:both}.drawer-bg[data-v-01077c3c]{background:#000;opacity:.3;width:100%;top:0;height:100%;position:absolute;z-index:999}.svg-icon[data-v-248913c8]{width:1em;height:1em;vertical-align:-.15em;fill:currentColor;overflow:hidden}.svg-external-icon[data-v-248913c8]{background-color:currentColor;-webkit-mask-size:cover!important;mask-size:cover!important;display:inline-block}
  .pre_view_page{overflow:hidden;width:100%}.pre_view_page #canvasPic{width:100%;height:calc(100vh - 90px)}.pre_view_page .share_cover_img{font-size:14px;background:#fff;border-radius:0 0 10px 10px;overflow:hidden}.pre_view_page .share_cover_img .video_name{margin-bottom:20px;margin-top:10px}.pre_view_page .share_cover_img img{height:120px}.pre_view_page .share_cover_img .text{text-align:center}.pre_view_page .share_cover_img .text_content{padding:15px 30px}.pre_view_page .share_cover_img .share_icon{width:20px;height:12px}.pre_view_page .nickname{text-align:right;color:#999}.pre_view_page .share_code{padding:10px 30px;background:#f4f6f7;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#999}.pre_view_page .share_code img{width:54px;height:54px;margin-right:10px}
  </style>
 </head>
 <body>
  <div id="app" font-family: "Microsoft Yahei">
   <div class="pre_view_page" style="border: 1px solid rgb(204, 204, 204); width: 375px; height: 540px;">
    <div class="share_cover_img">
     <div class="text">
      <img width="100%" crossorigin="anonymous" alt="" src="https://lvhuayi.obs.cn-north-4.myhuaweicloud.com/uzzua35eecdbd1-ca15-4a9a-b1a4-aa36502ebcf4.png" /> 
      <div class="text_content">
       <div class="video_name">
        {{电视剧banner}}
       </div> 
       <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAMCAYAAACA0IaCAAAB3klEQVQ4T3WSzWvUUBTFz0k6VilULFicdNyVEV2IC3WSulL0D1BxWRB0rRaHmowuutBJKaWCK0FdKK6UqUs3rQtBEosLQSlYFASbtChWOohfNe9KMp2YDuldPe499/fuF5GxQ7XFA12i34ag4X3YNYXHjLLx7LsyGpzQdD4SoNHs7ro0P9b/nf8FQtMOPZKV2KeI4Zd142EebN+Zt1t6B/veECjHcQHP+m7xfgqrOOGwBjxoJcsvEW2vP178mAer1JYuayKTSYxYiUSV59zS1wS2v7rc01NQ7wAMJCjihl83ruWBhqrL/aqgFghsb1WFi75r3GpxAZi18DoFV9vJInj6V8nIq4mB+IMNZtrBHZLnUy04zyi64E2UZnlwNNhT0PEa4NaOvG9rkVhZoHUlGAL5HISe1Qrwh0qO0rLDaRAnc7dGPPHqxql2zLKDWZDH8jfMZ7ScpVVAejcRND23mMwmGYcd/iCxLV+LnzSdcJVALkyApu8aKcxyws8Adm4C+xLDGgTSVjpmMe27xum0TSe8C+BcHkyAezzsLJZ1aD6AHZ0LiKDMObe00PbHZyEFeQHI4EYt33ONR5LTiIEaNBfA8XXRjIJysqC0upFPfejWq+C6VjCD39Gkd3P3yj/FSqwhdangJgAAAABJRU5ErkJggg==" alt="" class="share_icon" /> 
       <p>这个视频很精彩，推荐你也一起看看</p> 
       <p class="nickname">--- {{帮派任务}}</p>
      </div>
     </div> 
     <div class="share_code">
      <img width="54px" height="54px" src="data:image/png;base64,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" alt="" /> 
      <p>Scan the QR code to download the “Chinago&quot; APP，more wonderful experience</p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>
    """
    ret = imgkit.from_string(html, False, options={'format': 'png', 'encoding': "UTF-8", })
    return send_file(io.BytesIO(ret), mimetype='image/png')
